<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ูููุฐุฌ ุงูุชุณุฌูู</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="assets/img/logo.png">
</head>
<body>
  <header>
    <div class="logo">
      <img src="assets/img/logo.png" alt="ุดุนุงุฑ ุฃูุงุฏูููุฉ ุนุงูุฏ">
      <strong>ุฃูุงุฏูููุฉ ุนุงูุฏ</strong>
    </div>
    <nav>
      <a href="index.html">ุงูุฑุฆูุณูุฉ</a>
      <a href="course.html">ุงูุฏูุฑุฉ</a>
      <a href="step.html">ุงุฎุชุจุงุฑ STEP</a>
      <a href="bank.html">ุงูุชุญููู ุงูุจููู</a>
      <a href="register.html">ุงูุชุณุฌูู</a>
    </nav>
    <button id="theme-toggle" class="theme-toggle" title="ุชุจุฏูู ุงููุถุน">๐</button>
  </header>
  <main>
    <section class="section">
      <h2>ุงูุชุณุฌูู ูู ุงูุฏูุฑุฉ ุงูููุซูุฉ</h2>
      <p>ูุฑุฌู ุชุนุจุฆุฉ ุงููููุฐุฌ ุงูุชุงูู ุจุฏูุฉ ูุฅุชูุงู ุงูุชุณุฌูู. ุชุฃูุฏ ูู ุชุญููู ุงูุฑุณูู ูุฅุฑูุงู ุฅูุตุงู ุงูุชุญููู. ุจุนุฏ ุชุนุจุฆุฉ ุงูุจูุงูุงุช ูุงูููุงููุฉ ุนูู ุงูุชุนูุฏุงุชุ ุณูุชู ุชูุฌููู ููุชุญ ูุญุงุฏุซุฉ ูู ุชูููุฌุฑุงู ูุน ุฑุณุงูุฉ ุฌุงูุฒุฉ.</p>
      <form id="registration-form">
        <label for="name">ุงูุงุณู ุงููุงูู</label>
        <input type="text" id="name" name="name" required>

        <label for="phone">ุฑูู ุงูุฌูุงู</label>
        <input type="text" id="phone" name="phone" required>

        <label for="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
        <input type="email" id="email" name="email" required>

        <label for="city">ุงููุฏููุฉ</label>
        <input type="text" id="city" name="city" placeholder="ุงุฎุชูุงุฑู">

        <label>ูู ุณุจู ุฃู ุงุฎุชุจุฑุช STEPุ</label>
        <label><input type="radio" name="prevTest" value="yes"> ูุนู</label>
        <label><input type="radio" name="prevTest" value="no" checked> ูุง</label>
        <div id="prev-score-group" class="hidden">
          <label for="prev-score">ุฏุฑุฌุชู ุงูุณุงุจูุฉ</label>
          <input type="number" id="prev-score" name="prevScore" min="0" max="100">
        </div>
        <div id="target-score-group" class="hidden">
          <label for="target-score">ุงูุฏุฑุฌุฉ ุงููุณุชูุฏูุฉ</label>
          <input type="number" id="target-score" name="targetScore" min="0" max="100">
        </div>
        <div id="difficulty-group" class="hidden">
          <label for="difficulties">ูุง ูู ุงูุตุนูุจุงุช ุงูุชู ูุงุฌูุชูุงุ</label>
          <textarea id="difficulties" name="difficulties" rows="3"></textarea>
        </div>

        <label>ูู ููุช ุจุญุฌุฒ ููุนุฏ ุงุฎุชุจุงุฑูุ</label>
        <label><input type="radio" name="booked" value="yes"> ูุนู</label>
        <label><input type="radio" name="booked" value="no" checked> ูุง</label>
        <div id="time-left-group" class="hidden">
          <label for="time-left">ูู ุจุงูู ุนูู ุงุฎุชุจุงุฑูุ</label>
          <select id="time-left" name="timeLeft">
            <option value="<24h">ุฃูู ูู ูขูค ุณุงุนุฉ</option>
            <option value="3d">ุฎูุงู ูฃ ุฃูุงู</option>
            <option value="2w">ุฃุณุจูุนูู</option>
            <option value="1m">ุดูุฑ</option>
            <option value="more">ุฃูุซุฑ ูู ุดูุฑ</option>
          </select>
        </div>

        <label>ุฃุถุนู ูุณู ูุฏูู</label>
        <label><input type="radio" name="weak-section" value="grammar"> ุงูููุงุนุฏ</label>
        <label><input type="radio" name="weak-section" value="reading"> ุงููุฑุงุกุฉ</label>
        <label><input type="radio" name="weak-section" value="listening"> ุงูุงุณุชูุงุน</label>
        <label><input type="radio" name="weak-section" value="unsure" checked> ุบูุฑ ูุชุฃูุฏ</label>
        <button type="button" id="start-test" class="btn-primary hidden">ุฅุฌุฑุงุก ุงุฎุชุจุงุฑ ุชุญุฏูุฏ ุงููุณุชูู</button>
        <input type="hidden" id="recommended-plan" name="recommendedPlan" value="">

        <label for="receipt">ุฅุฑูุงู ุฅูุตุงู ุงูุชุญููู (ุตูุฑุฉ)</label>
        <input type="file" id="receipt" name="receipt" accept="image/*" required>

        <p>
          ุจุงูููุงููุฉ ุนูู <a href="#" id="terms-link">ุงูุชุนูุฏุงุช</a> ู<a href="#" id="policy-link">ุณูุงุณุฉ ุงูุงุณุชุฑุฌุงุน</a>ุ ูุฅูู ุชูุฑ ุจูุฑุงุกุฉ ุงูุดุฑูุท ูุงูููุงููุฉ ุนูููุง.
        </p>
        <button type="submit" id="submit-btn" class="btn-primary" disabled>ุฅุฑุณุงู ุงูุชุณุฌูู</button>
      </form>
    </section>
  </main>
  <footer>
    ยฉ 2026 ุฃูุงุฏูููุฉ ุนุงูุฏ โ ุฌููุน ุงูุญููู ูุญููุธุฉ.
  </footer>

  <!-- Level test modal -->
  <div id="level-overlay" class="modal-overlay">
    <div id="level-modal" class="modal" style="display: none;">
      <button id="close-test" class="close">ร</button>
      <h3>ุงุฎุชุจุงุฑ ุชุญุฏูุฏ ุงููุณุชูู (20 ุณุคุงู)</h3>
      <div id="test-container"></div>
      <div id="test-result"></div>
      <button id="back-to-form" class="btn-primary hidden">ุงูุฑุฌูุน ูููููุฐุฌ</button>
    </div>
  </div>

  <!-- Terms modal -->
  <div class="modal-overlay" style="display: none;">
    <div id="terms-modal" class="modal">
      <button id="close-terms" class="close">ร</button>
      <h3>ุงูุชุนูุฏุงุช</h3>
      <p>ุฃุชุนูุฏ ุจุญุถูุฑ ุฌููุน ุงููุญุงุถุฑุงุช ุงููุจุงุดุฑุฉ ุฃู ูุดุงูุฏุฉ ุงูุชุณุฌููุงุชุ ูุนุฏู ูุดุงุฑูุฉ ุงููุญุชูู ูุน ุงูุบูุฑ. ุฃููู ุฃู ุงูุงูุชุฒุงู ุจุงูุฏุฑุงุณุฉ ุญุณุจ ุงูุฎุทุฉ ุงูููุชุฑุญุฉ ูุณุงุนุฏูู ุนูู ุชุญููู ุงููุชุงุฆุฌ ุงููุฑุฌูุฉ.</p>
      <button id="accept-terms" class="btn-primary">ุฃูุงูู</button>
    </div>
  </div>

  <!-- Policy modal -->
  <div class="modal-overlay" style="display: none;">
    <div id="policy-modal" class="modal">
      <button id="close-policy" class="close">ร</button>
      <h3>ุณูุงุณุฉ ุงูุงุณุชุฑุฌุงุน</h3>
      <p>ููููู ุทูุจ ุงุณุชุฑุฌุงุน ุงูุฑุณูู ุฎูุงู 24 ุณุงุนุฉ ูุจู ุจุฏุก ุงูุฏูุฑุฉ. ุจุนุฏ ุจุฏุก ุงูุฏูุฑุฉ ุฃู ุงุณุชูุงูู ููุงุฏูุงุ ูุง ูููู ุงุณุชุฑุฏุงุฏ ุงูุฑุณูู. ููุฒูุฏ ูู ุงูุชูุงุตูู ูุฑุฌู ุงูุชูุงุตู ูุน ุงูุฃูุงุฏูููุฉ.</p>
      <button id="accept-policy" class="btn-primary">ุฃูุงูู</button>
    </div>
  </div>

  <!-- Chat assistant -->
  <button id="chat-button">๐ฌ</button>
  <div id="chat-box">
    <header>ุงููุณุงุนุฏ</header>
    <div id="chat-messages"></div>
    <div id="chat-input">
      <input id="chat-input-field" type="text" placeholder="ุงูุชุจ ุณุคุงูู...">
      <button id="chat-send">ุฅุฑุณุงู</button>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // Handle submission: build message and open Telegram link
    document.getElementById('registration-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('name').value;
      const phone = document.getElementById('phone').value;
      const email = document.getElementById('email').value;
      const city = document.getElementById('city').value;
      const prevTest = this.elements['prevTest'].value;
      const prevScore = document.getElementById('prev-score').value || 'N/A';
      const targetScore = document.getElementById('target-score').value || 'N/A';
      const difficulties = document.getElementById('difficulties').value || 'N/A';
      const booked = this.elements['booked'].value;
      const timeLeft = document.getElementById('time-left').value || 'N/A';
      const weak = this.elements['weak-section'].value;
      const plan = document.getElementById('recommended-plan').value || 'ุณูุชู ุชุญุฏูุฏูุง ูู ุงูุฏูุฑุฉ';
      const message = `ุงูุงุณู: ${name}%0Aุฑูู ุงูุฌูุงู: ${phone}%0Aุงูุจุฑูุฏ ุงูุฅููุชุฑููู: ${email}%0Aุงููุฏููุฉ: ${city}%0Aุณุจู ุฃู ุงุฎุชุจุฑ STEP: ${prevTest}%0Aุงูุฏุฑุฌุฉ ุงูุณุงุจูุฉ: ${prevScore}%0Aุงูุฏุฑุฌุฉ ุงููุณุชูุฏูุฉ: ${targetScore}%0Aุงูุตุนูุจุงุช: ${difficulties}%0Aุญุฌุฒ ููุนุฏ ุงูุงุฎุชุจุงุฑ: ${booked}%0Aุงููุฏุฉ ุงููุชุจููุฉ: ${timeLeft}%0Aุฃุถุนู ูุณู: ${weak}%0Aุงูุฎุทุฉ ุงูููุชุฑุญุฉ: ${plan}%0A`; 
      const url = `https://t.me/Ayed_Academy_2026?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');
      alert('ุณูุชู ูุชุญ ุชูููุฌุฑุงู ูุฅุฑุณุงู ุจูุงูุงุชู. ุดูุฑุงู ูุชุณุฌููู!');
      // ุชูููู ุนุฏุฏ ุงูููุงุนุฏ ุงููุชุจููุฉ
      let seats = parseInt(localStorage.getItem('seatsRemaining'));
      if (!isNaN(seats) && seats > 0) {
        localStorage.setItem('seatsRemaining', seats - 1);
      }
      return false;
    });
  </script>
</body>
</html>